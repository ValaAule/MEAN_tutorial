angular.module("app",["ngRoute"]),console.log("module.js: access to module successful"),angular.module("app").controller("ApplicationCtrl",["$scope",function(s){s.$on("login",function(o,e){s.currentUser=e,console.log("application.ctrl.js = login successful")})}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc",function(s,o){s.login=function(e,t){o.login(e,t).then(function(o){s.$emit("login",o),console.log("login.ctrl.js: login successful")})}}]),angular.module("app").controller("PostsCtrl",["$scope","PostsSvc",function(s,o){s.addPost=function(){s.postBody&&o.create({username:"Add Post Button",body:s.postBody}).success(function(o){s.posts.unshift(o),s.postBody=null,console.log("posts.ctrl.js: create post successful")})},o.fetch().success(function(o){s.posts=o,console.log("posts.ctrl.js: fetch post succesful")})}]),angular.module("app").service("PostsSvc",["$http",function(s){this.fetch=function(){return console.log("posts.svc.js: fetch post successful"),s.get("/api/posts")},this.create=function(o){return console.log("posts.svc.js: create post successful"),s.post("/api/posts",o)}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc",function(s,o){s.register=function(e,t){o.register(e,t).then(function(o){s.$emit("login",o),console.log("register.ctrl.js: registration succesful")})}}]),angular.module("app").config(["$routeProvider",function(s){s.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"}),console.log("routes.js: routing succesful")}]),angular.module("app").service("UserSvc",["$http",function(s){var o=this;o.getUser=function(){return s.get("/api/users").then(function(s){return console.log("user.svc.js: get user successful"),s.data})},o.login=function(e,t){return s.post("/api/sessions",{username:e,password:t}).then(function(e){return o.token=e.data,s.defaults.headers.common["X-Auth"]=e.data,console.log("user.svc.js: login successful"),o.getUser()})},o.register=function(e,t){return console.log("user.svc.js: user registration successful"),s.post("/api/users",{username:e,password:t}).then(function(){return o.login(e,t)})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJsb2dpbi5jdHJsLmpzIiwicG9zdHMuY3RybC5qcyIsInBvc3RzLnN2Yy5qcyIsInJlZ2lzdGVyLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1c2VyLnN2Yy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc29sZSIsImxvZyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkb24iLCJfIiwidXNlciIsImN1cnJlbnRVc2VyIiwiVXNlclN2YyIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInRoZW4iLCIkZW1pdCIsIlBvc3RzU3ZjIiwiYWRkUG9zdCIsInBvc3RCb2R5IiwiY3JlYXRlIiwiYm9keSIsInN1Y2Nlc3MiLCJwb3N0IiwicG9zdHMiLCJ1bnNoaWZ0IiwiZmV0Y2giLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwicmVnaXN0ZXIiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsInN2YyIsImdldFVzZXIiLCJyZXNwb25zZSIsImRhdGEiLCJ0b2tlbiIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiJdLCJtYXBwaW5ncyI6IkFBR0FBLFFBQVFDLE9BQU8sT0FDWCxZQUdKQyxRQUFRQyxJQUFJLDBDQ0haSCxRQUFRQyxPQUFPLE9BQ2RHLFdBQVcsbUJBQUEsU0FBbUIsU0FBU0MsR0FDaENBLEVBQU9DLElBQUksUUFBUyxTQUFTQyxFQUFHQyxHQUM1QkgsRUFBT0ksWUFBY0QsRUFDckJOLFFBQVFDLElBQUksK0NDSHhCSCxRQUFRQyxPQUFPLE9BQ2RHLFdBQVcsYUFBQSxTQUFBLFVBQWEsU0FBVUMsRUFBUUssR0FDbkNMLEVBQU9NLE1BQVEsU0FBVUMsRUFBVUMsR0FDL0JILEVBQVFDLE1BQU1DLEVBQVVDLEdBQ2ZDLEtBQUssU0FBVU4sR0FDaEJILEVBQU9VLE1BQU0sUUFBU1AsR0FDdEJOLFFBQVFDLElBQUkseUNDTGhDSCxRQUFRQyxPQUFPLE9BQ2RHLFdBQVcsYUFBQSxTQUFBLFdBQVksU0FBVUMsRUFBUVcsR0FDdENYLEVBQU9ZLFFBQVUsV0FDVFosRUFBT2EsVUFDUEYsRUFBU0csUUFDTFAsU0FBVSxrQkFDVlEsS0FBTWYsRUFBT2EsV0FDZEcsUUFBUSxTQUFVQyxHQUNqQmpCLEVBQU9rQixNQUFNQyxRQUFRRixHQUNyQmpCLEVBQU9hLFNBQVcsS0FDbEJoQixRQUFRQyxJQUFJLDRDQUt4QmEsRUFBU1MsUUFDSkosUUFBUSxTQUFVRSxHQUNmbEIsRUFBT2tCLE1BQVFBLEVBQ2ZyQixRQUFRQyxJQUFJLDRDQ3hCeEJILFFBQVFDLE9BQU8sT0FDZHlCLFFBQVEsWUFBQSxRQUFZLFNBQVVDLEdBQzNCQyxLQUFLSCxNQUFRLFdBRVQsTUFEQXZCLFNBQVFDLElBQUksdUNBQ0x3QixFQUFNRSxJQUFJLGVBRXJCRCxLQUFLVCxPQUFTLFNBQVVHLEdBRXBCLE1BREFwQixTQUFRQyxJQUFJLHdDQUNMd0IsRUFBTUwsS0FBSyxhQUFjQSxPQ0h4Q3RCLFFBQVFDLE9BQU8sT0FDZEcsV0FBVyxnQkFBQSxTQUFBLFVBQWdCLFNBQVVDLEVBQVFLLEdBQ3RDTCxFQUFPeUIsU0FBVyxTQUFVbEIsRUFBVUMsR0FDbENILEVBQVFvQixTQUFTbEIsRUFBVUMsR0FDbEJDLEtBQUssU0FBVU4sR0FDaEJILEVBQU9VLE1BQU0sUUFBU1AsR0FDdEJOLFFBQVFDLElBQUksa0RDTmhDSCxRQUFRQyxPQUFPLE9BQ2Q4QixRQUFBLGlCQUFPLFNBQVVDLEdBQ1ZBLEVBQ0tDLEtBQUssS0FBTTdCLFdBQVksWUFBYThCLFlBQWEsZUFDakRELEtBQUssYUFBYzdCLFdBQVksZUFBZ0I4QixZQUFhLGtCQUM1REQsS0FBSyxVQUFXN0IsV0FBWSxZQUFhOEIsWUFBYSxlQUN2RGhDLFFBQVFDLElBQUksbUNDUHhCSCxRQUFRQyxPQUFPLE9BQ2R5QixRQUFRLFdBQUEsUUFBVyxTQUFTQyxHQUN6QixHQUFJUSxHQUFNUCxJQUNWTyxHQUFJQyxRQUFVLFdBQ1YsTUFBT1QsR0FBTUUsSUFBSSxjQUNoQmYsS0FBSyxTQUFVdUIsR0FFWixNQURBbkMsU0FBUUMsSUFBSSxvQ0FDTGtDLEVBQVNDLFFBSXhCSCxFQUFJeEIsTUFBTSxTQUFTQyxFQUFVQyxHQUN6QixNQUFPYyxHQUFNTCxLQUFLLGlCQUNkVixTQUFVQSxFQUFVQyxTQUFVQSxJQUMvQkMsS0FBSyxTQUFVdUIsR0FJZCxNQUhBRixHQUFJSSxNQUFRRixFQUFTQyxLQUNyQlgsRUFBTWEsU0FBU0MsUUFBUUMsT0FBTyxVQUFZTCxFQUFTQyxLQUNuRHBDLFFBQVFDLElBQUksaUNBQ0xnQyxFQUFJQyxhQUtuQkQsRUFBSUwsU0FBVyxTQUFVbEIsRUFBVUMsR0FFL0IsTUFEQVgsU0FBUUMsSUFBSSw2Q0FDTHdCLEVBQU1MLEtBQUssY0FDZFYsU0FBVUEsRUFBVUMsU0FBVUEsSUFDL0JDLEtBQUssV0FDSixNQUFPcUIsR0FBSXhCLE1BQU1DLEVBQVVDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBBdWxlIG9uIDIvNy8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xuICAgICduZ1JvdXRlJ1xuXSlcblxuY29uc29sZS5sb2coJ21vZHVsZS5qczogYWNjZXNzIHRvIG1vZHVsZSBzdWNjZXNzZnVsJykiLCIvKipcbiAqIENyZWF0ZWQgYnkgQXVsZSBvbiAyLzEyLzE1LlxuICogVXNlZCBmb3IgbG9naW4gcGFnZVxuICovXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLiRvbignbG9naW4nLCBmdW5jdGlvbihfLCB1c2VyKSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudFVzZXIgPSB1c2VyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYXBwbGljYXRpb24uY3RybC5qcyA9IGxvZ2luIHN1Y2Nlc3NmdWwnIClcbiAgICAgICAgfSlcbiAgICB9KSIsIi8qKlxuICogQ3JlYXRlZCBieSBBdWxlIG9uIDIvOS8xNS5cbiAqIFVzZWQgZm9yIGxvZ2luIHBhZ2VcbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBVc2VyU3ZjKSB7XG4gICAgICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgICAgIFVzZXJTdmMubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodXNlcil7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnbG9naW4nLCB1c2VyKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbG9naW4uY3RybC5qczogbG9naW4gc3VjY2Vzc2Z1bCcpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSkiLCIvKipcbiAqIENyZWF0ZWQgYnkgQXVsZSBvbiAyLzYvMTUuXG4gKiBjcmVhdGUgdGhlIFBvc3RzQ3RybCBtb2R1bGUgYW5kIGRlcGVuZGVuY3kgaW5qZWN0ICRzY29wZSwgdGhlIHNjb3BlIHRpZXMvZ2x1ZXMgdGhlIGNvbnRyb2xsZXIgdG8gdGhlIHZpZXdcbiAqIGludGVncmF0ZSB0byB0aGUgUkVTVCBBUEkgdG8gcG9zdCBiYWNrIHRvIE1vbmdvREIuICBPbmx5IHRoZSBzdWNjZXNzIGZ1bmN0aW9uIGlzIHBvc3RlZCBhbmQgaXQgbnVsbHMgdGhlIHZhbHVlIGZvciB0aGUgbmV4dCB0aW1lXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcihcIlBvc3RzQ3RybFwiLGZ1bmN0aW9uICgkc2NvcGUsIFBvc3RzU3ZjKSB7XG4gICAgJHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRzY29wZS5wb3N0Qm9keSkge1xuICAgICAgICAgICAgUG9zdHNTdmMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogJ0FkZCBQb3N0IEJ1dHRvbicsXG4gICAgICAgICAgICAgICAgYm9keTogJHNjb3BlLnBvc3RCb2R5XG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChwb3N0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RzLnVuc2hpZnQocG9zdClcbiAgICAgICAgICAgICAgICAkc2NvcGUucG9zdEJvZHkgPSBudWxsXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Bvc3RzLmN0cmwuanM6IGNyZWF0ZSBwb3N0IHN1Y2Nlc3NmdWwnKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFBvc3RzU3ZjLmZldGNoKClcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3RzKSB7XG4gICAgICAgICAgICAkc2NvcGUucG9zdHMgPSBwb3N0c1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Bvc3RzLmN0cmwuanM6IGZldGNoIHBvc3Qgc3VjY2VzZnVsJylcbiAgICAgICAgfSlcbn0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5zZXJ2aWNlKCdQb3N0c1N2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuICAgIHRoaXMuZmV0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwb3N0cy5zdmMuanM6IGZldGNoIHBvc3Qgc3VjY2Vzc2Z1bCcpXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcG9zdHMnKVxuICAgIH1cbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChwb3N0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwb3N0cy5zdmMuanM6IGNyZWF0ZSBwb3N0IHN1Y2Nlc3NmdWwnKVxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wb3N0cycsIHBvc3QpXG4gICAgfVxufSkiLCIvKipcbiAqIENyZWF0ZWQgYnkgQXVsZSBvbiAyLzkvMTUuXG4gKiBVc2VkIGZvciByZWdpc3RlciBwYWdlXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignUmVnaXN0ZXJDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgVXNlclN2Yykge1xuICAgICAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICAgICAgICBVc2VyU3ZjLnJlZ2lzdGVyKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHVzZXIpe1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2xvZ2luJywgdXNlcilcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlZ2lzdGVyLmN0cmwuanM6IHJlZ2lzdHJhdGlvbiBzdWNjZXNmdWwnKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0pIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IEF1bGUgb24gMi85LzE1LlxuICogUm91dGluZyBmaWxlIHRoYXQgbWFwcyB0aGUgY29udHJvbGxlcnMgYW5kIGh0bWwgZmlsZXNcbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgICAgICAud2hlbignLycsIHtjb250cm9sbGVyOiAnUG9zdHNDdHJsJywgdGVtcGxhdGVVcmw6ICdwb3N0cy5odG1sJ30pXG4gICAgICAgICAgICAud2hlbignL3JlZ2lzdGVyJywge2NvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnLCB0ZW1wbGF0ZVVybDogJ3JlZ2lzdGVyLmh0bWwnfSlcbiAgICAgICAgICAgIC53aGVuKCcvbG9naW4nLCB7Y29udHJvbGxlcjogJ0xvZ2luQ3RybCcsIHRlbXBsYXRlVXJsOiAnbG9naW4uaHRtbCd9KVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JvdXRlcy5qczogcm91dGluZyBzdWNjZXNmdWwnKVxuICAgIH0pIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IEF1bGUgb24gMi85LzE1LlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLnNlcnZpY2UoJ1VzZXJTdmMnLCBmdW5jdGlvbigkaHR0cCl7XG4gICAgdmFyIHN2YyA9IHRoaXNcbiAgICBzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyLnN2Yy5qczogZ2V0IHVzZXIgc3VjY2Vzc2Z1bCcpXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN2Yy5sb2dpbj1mdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7XG4gICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgc3ZjLnRva2VuID0gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3VzZXIuc3ZjLmpzOiBsb2dpbiBzdWNjZXNzZnVsJylcbiAgICAgICAgICAgIHJldHVybiBzdmMuZ2V0VXNlcigpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gLy91c2VkIHRvIHJlZ2lzdGVyIG5ldyB1c2VycyBhbmQgYXV0b21hdGljYWxseSBsb2dzIHRoZW0gaW5cbiAgICBzdmMucmVnaXN0ZXIgPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCd1c2VyLnN2Yy5qczogdXNlciByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCcpXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywge1xuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgICAgfSlcbiAgICB9XG59KSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==